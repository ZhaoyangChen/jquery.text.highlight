/*!
 * jquery.text.highlight v1.0.0
 * Copyright 2016 Itay Grudev
 * Licensed under the MIT license
 */
(function(h,l){h.fn.textHighlight=function(f,g){function k(a,c){if(c.nodeType==Node.TEXT_NODE){var e=null,d;if(a instanceof RegExp){if(a.ignoreCase==g.caseSensitive){var b=g.caseSensitive?"":"i",b=a.flags.replace("i","")+b;a=new RegExp(a.source,b)}b=a.exec(c.data);null!==b&&(e=b.index,d=b[0].length)}else if("string"==typeof a){if(0==a.length)return 0;e=g.caseSensitive?c.data.indexOf(a):c.data.toUpperCase().indexOf(a.toUpperCase());d=a.length}if(null!==e&&-1!==e)return b=document.createElement(g.element),
b.className=g["class"],h(b).attr("data-text-highlight",""),e=c.splitText(e),e.splitText(d),d=e.cloneNode(!0),b.appendChild(d),e.parentNode.replaceChild(b,e),1}else if(c.nodeType==Node.ELEMENT_NODE&&c.childNodes&&!/(script|style)/i.test(c.tagName)&&!c.hasAttribute("data-text-highlight"))for(d=0;d<c.childNodes.length;++d)d+=k(a,c.childNodes[d]);return 0}g=h.extend({},{element:"mark","class":"",caseSensitive:!1},g);return this.each(function(){if(f instanceof RegExp||"string"==typeof f)k(f,this);else if("object"==
typeof f&&f.length!==l)for(var a=0;a<f.length;++a)k(f[a],this)})};h.fn.removeHighlight=function(){return this.each(function(){h(this).find("[data-text-highlight]").each(function(){this.parentNode.replaceChild(this.firstChild,this)});this.normalize()})}})(jQuery);
